# Zombie

در لینوکس Zombie Process (زامبی) نه یک فایل است و نه یک پروسه قابل kill.
پس هیچ فایل ZIP یا خاصی نیست که حذفش کنیم.
زامبی فقط یک ورودی (Entry) در Process Table کرنل است که به‌درستی پاک نشده.


🧟‍♂️ Zombie چیست؟

یک فرایند که کارش تمام شده (dead)

اما چون والدش wait() نزده، رکورد آن در جدول پردازش مانده

در ps حالت آن Z یا <defunct> است

🎯 نه فایل هست، نه برنامه، نه چیزی که روی دیسک باشد.

❌ چرا نمی‌توان Zombie را kill کرد؟

چون مرده است!
به هیچ سیگنالی پاسخ نمی‌دهد:
```
kill -9 <pid>
```

هیچ اثری ندارد.

📌 آیا Zombie فایل دارد؟

نه، ولی یک pseudo-directory در /proc دارد:
```
/proc/<PID>/
```

مثلاً:
```
/proc/1234/status
/proc/1234/stat
```

اما این‌ها فایل واقعی روی HDD نیستند—این‌ها نمایش کرنل از وضعیت پروسه هستند.

✅ چگونه Zombie را حذف کنیم؟
✔️ ۱) پیدا کردن Zombie‌ها:
```
ps -eo pid,ppid,stat,cmd | grep ' Z '
```
✔️ ۲) پیدا کردن والد Zombie:

خروجی مثلاً:
```
1234 567 Z [myprocess] <defunct>
```

PID والد = 567

✔️ ۳) تنها راه حذف Zombie:
🔥 والد را مجبور کنیم wait() بزند یا والد را restart کنیم
روش ۱ — Restart کردن سرویس والد:
```
sudo systemctl restart <service>
```
روش ۲ — ارسال سیگنال به والد:
```
sudo kill -HUP 567
```

یا در صورت نیاز:
```
sudo kill -9 567
```

وقتی والد بمیرد، PID 1 (systemd) بچه‌ها را adopt می‌کند و Zombie را پاک می‌کند.

✔️ ۴) اگر تعداد Zombie خیلی زیاد شد:

ری‌استارت سیستم پاکشان می‌کند:
```
sudo reboot
```
